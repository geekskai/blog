---

title: '2024æœ€æ–° cloudflare æ­å»º blog'
date: '2024-10-08'
lastmod: '2024-10-08'
tags: ['cloudflare', 'blog', 'pages', 'web development']
draft: false
summary: 'è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Cloudflare Pagesæ­å»ºä¸ªäººåšå®¢ï¼ŒåŒ…æ‹¬ä»é¡¹ç›®è®¾ç½®åˆ°éƒ¨ç½²çš„å®Œæ•´æµç¨‹ï¼Œä»¥åŠä¸€äº›å®ç”¨çš„ä¼˜åŒ–æŠ€å·§ã€‚'
layout: 'PostLayout'
canonicalUrl: 'https://geekskai.com/blog/cloudflare-blog-setup/'
---

## ä½¿ç”¨Cloudflare Pagesæ­å»ºä¸ªäººåšå®¢
åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Cloudflare Pagesæ­å»ºä¸€ä¸ªé«˜æ€§èƒ½ã€å®‰å…¨ä¸”å…è´¹çš„ä¸ªäººåšå®¢ã€‚Cloudflare Pagesä¸ä»…æä¾›äº†å¼ºå¤§çš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œè¿˜èƒ½ç¡®ä¿æ‚¨çš„åšå®¢å¿«é€Ÿã€å®‰å…¨åœ°ä¼ é€’ç»™å…¨çƒè¯»è€…ã€‚


### ä¸ºä»€ä¹ˆé€‰æ‹©Cloudflare Pagesï¼Ÿ

1. å…è´¹ä¸”å¼ºå¤§

- æ— é™çš„å¸¦å®½
- è‡ªåŠ¨åŒ–çš„CI/CDæµç¨‹
- å…¨çƒCDNåŠ é€Ÿ

2. ç®€å•æ˜“ç”¨

- ä¸GitHubæ— ç¼é›†æˆ
- è‡ªåŠ¨HTTPS
- è‡ªå®šä¹‰åŸŸåæ”¯æŒ


3. å¼€å‘è€…å‹å¥½

- æ”¯æŒå¤šç§æ¡†æ¶
- è¯¦ç»†çš„éƒ¨ç½²æ—¥å¿—
- é¢„è§ˆéƒ¨ç½²åŠŸèƒ½

## å‡†å¤‡å·¥ä½œ

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦å‡†å¤‡ï¼š

1. ä¸€ä¸ªGitHubè´¦å·
2. ä¸€ä¸ªCloudflareè´¦å·
3. ä¸€ä¸ªåŸŸåï¼ˆå¯é€‰ï¼‰
4. æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆNode.jsï¼‰

## æ­¥éª¤ä¸€ï¼šé€‰æ‹©åšå®¢æ¡†æ¶

æ¨èä½¿ç”¨Next.jsä½œä¸ºåšå®¢æ¡†æ¶ï¼Œå®ƒä¸Cloudflare Pageså®Œç¾å…¼å®¹ã€‚

æ¨èä½¿ç”¨å·²ç»å­˜åœ¨çš„Next.jsæ¨¡æ¿ï¼Œä»¥ä¾¿å¿«é€Ÿå¼€å§‹ï¼Œæ‚¨å¯ä»¥ç›´æ¥forkä¸€ä¸ªblogæ¨¡ç‰ˆåˆ°è‡ªå·±çš„GitHubä»“åº“ä¸­ï¼Œè¿™æ ·å°±èƒ½ç›´æ¥ä½¿ç”¨ï¼Œ
ä¸‹é¢ä»¥æˆ‘è‡ªå·±çš„[åšå®¢](https://github.com/geekskai/blog)ä¸ºä¾‹ï¼š

ç¬¬ä¸€æ­¥ï¼šè¯·ç‚¹å‡»ğŸ‘‰[fork](https://github.com/geekskai/blog/fork)
å°±èƒ½ç›´æ¥forkåˆ°è‡ªå·±çš„GitHubä»“åº“ä¸­ã€‚

ç¬¬äºŒæ­¥ï¼šCloudflare Pagesé…ç½®

1. ç™»å½•[Cloudflare pages](https://pages.cloudflare.com/)æ§åˆ¶å°,å¦‚æœæ²¡æœ‰è´¦å·è¯·å…ˆæ³¨å†Œä¸€ä¸ªï¼Œ
ç™»å½•æˆåŠŸä¹‹åï¼Œé»˜è®¤çš„é¡µé¢æ˜¯è‹±æ–‡çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»å³ä¸Šè§’åˆ‡æ¢è¯­è¨€ä¸ºä¸­æ–‡ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-dashboard.jpg)

2. æŒ‰ç…§å›¾ä¸­çš„æ­¥éª¤ï¼Œç‚¹å‡»â€œå¼€å§‹æ„å»ºâ€ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project.png)


3. æˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹çš„å¡ç‰‡ï¼Œä¹Ÿå°±æ˜¯ï¼šâ€œæ„å»ºåº”ç”¨ç¨‹åºâ€ï¼Œç„¶åç‚¹å‡»å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æœ‰2ä¸ªtabsé€‰é¡¹ï¼Œåˆ†åˆ«æ˜¯Workerså’ŒPages,æˆ‘ä»¬é€‰æ‹©Pagesé€‰é¡¹ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-2.png)

4. åœ¨åˆ›å»ºåº”ç”¨ç¨‹åºé¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰2ä¸ªé€‰é¡¹ï¼Œåˆ†åˆ«æ˜¯ï¼šGitHubä»“åº“å’ŒGitLabä»“åº“ï¼Œæˆ‘ä»¬é€‰æ‹©GitHubä»“åº“ï¼Œç„¶åç‚¹å‡»â€œç»§ç»­â€ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-3.png)

5. æˆæƒCloudflare Pagesè®¿é—®æ‚¨çš„GitHubä»“åº“ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œåˆ†åˆ«æ˜¯ï¼š â€œæ‰€æœ‰ä»“åº“â€å’Œâ€œé€‰æ‹©ä»“åº“â€ï¼Œæˆ‘ä»¬é€‰æ‹©â€œé€‰æ‹©ä»“åº“â€ï¼Œç„¶åé€‰æ‹©åˆšæ‰forkçš„blogçš„GitHubä»“åº“ï¼Œç‚¹å‡»â€œå®‰è£…å¹¶ä¸”æˆæƒâ€ï¼Œä¹‹åå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-4.png)

6. ç‚¹å‡»â€œå¼€å§‹è®¾ç½®â€ä¹‹åï¼Œä½ å°±èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰é¡¹ç›®åç§°ï¼Œç”Ÿäº§åˆ†æ”¯ï¼Œæ„å»ºè®¾ç½®ç­‰é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œè®¾ç½®ï¼Œæ¡†æ¶é¢„è®¾é€‰æ‹©Next.jsï¼Œ
ç„¶åç‚¹å‡»â€œä¿å­˜å¹¶éƒ¨ç½²â€ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-5.png)

7. ç‚¹å‡»â€œä¿å­˜å¹¶éƒ¨ç½²â€ä¹‹åï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ„å»ºçš„è¿›åº¦ï¼Œ

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-6.png)

8. æ„å»ºæˆåŠŸä¹‹åï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-7.png)

9. æˆåŠŸä¹‹åä¼šç”Ÿæˆä¸€ä¸ªé“¾æ¥ï¼Œä¾‹å¦‚æˆ‘çš„ï¼šhttps://blog-24f.pages.dev/ ï¼Œç‚¹å‡»è¯¥é“¾æ¥ï¼Œå°±èƒ½çœ‹åˆ°æ‚¨çš„åšå®¢å·²ç»éƒ¨ç½²æˆåŠŸçš„é¡µé¢ï¼Œæ­å–œæ‚¨ï¼


æ³¨æ„ï¼šå¦‚æœæ‚¨çš„åšå®¢æ˜¯forkæˆ‘çš„blogçš„æ¨¡æ¿ï¼Œè®¿é—®é“¾æ¥çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-8.png)


### æ·»åŠ å…¼å®¹æ€§æ ‡å¿—nodejs_compat

1. åœ¨å·¦ä¾§èœå•ä¸­ç‚¹å‡» "Workers & Pages"
2. æ‰¾åˆ°å¹¶ç‚¹å‡»æ‚¨çš„é¡¹ç›®ï¼ˆblogï¼‰

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-9.png)

3. åœ¨é¡¹ç›®è®¾ç½®ä¸­ï¼Œæ‰¾åˆ° "Settings" æ ‡ç­¾
4. å‘ä¸‹æ»šåŠ¨æ‰¾åˆ° "Functions" éƒ¨åˆ†
5. ç‚¹å‡» "Compatibility flags"
6. æ·»åŠ  nodejs_compat æ ‡å¿—ï¼š
7. åœ¨ç”Ÿäº§ç¯å¢ƒå’Œé¢„è§ˆç¯å¢ƒä¸­ä¹Ÿæ·»åŠ ï¼Œç„¶åç‚¹å‡» "ä¿å­˜" 

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-10.png)

8. æ·»åŠ æˆåŠŸä¹‹åï¼Œéœ€è¦é‡æ–°éƒ¨ç½²ï¼Œè½¬åˆ° "éƒ¨ç½²" æ ‡ç­¾ï¼Œç‚¹å‡» "é‡æ–°éƒ¨ç½²" é‡æ–°éƒ¨ç½²æ‚¨çš„ç«™ç‚¹ã€‚

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-11.png)

9. é‡æ–°éƒ¨ç½²æˆåŠŸä¹‹åï¼Œæ‚¨çš„åšå®¢å°±èƒ½æ­£å¸¸è®¿é—®äº†ã€‚

### æ·»åŠ è‡ªå®šä¹‰åŸŸå

1. åœ¨å·¦ä¾§èœå•ä¸­ç‚¹å‡» "Workers & Pages"

2. æ‰¾åˆ°å¹¶ç‚¹å‡»æ‚¨çš„é¡¹ç›®ï¼ˆblogï¼‰

3. æ‰¾åˆ° "è‡ªå®šä¹‰åŸŸå" éƒ¨åˆ†

4. ç‚¹å‡» "æ·»åŠ è‡ªå®šä¹‰åŸŸå"çš„æŒ‰é’®

![Cloudflare Pages](/static/images/cloudflare/cloudflare-pages-create-project-12.png)



5. è¾“å…¥æ‚¨çš„åŸŸåï¼Œç„¶åç‚¹å‡» "ç»§ç»­"

6. åœ¨æ‚¨çš„åŸŸåæ³¨å†Œå•†ä¸­æ·»åŠ CNAMEè®°å½•ï¼ŒæŒ‡å‘æ‚¨çš„Cloudflare PagesåŸŸåï¼Œä¾‹å¦‚ï¼šblog-24f.pages.dev

7. ç­‰å¾…DNSç”Ÿæ•ˆï¼Œç„¶åæ‚¨çš„åšå®¢å°±èƒ½é€šè¿‡æ‚¨çš„è‡ªå®šä¹‰åŸŸåè®¿é—®äº†ã€‚









